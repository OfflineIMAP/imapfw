
language: python
python:
  - "3.4"
  - "3.5"
  - "3.6" # currently points to 3.6-dev
  - "3.6-dev" # 3.6 development branch
  # - "nightly" # disabled because testing against unstable yields to many false positives
  #- "pypy3"  # won't work since it implements Python 3.2.5.

branches:
  only:
    - master
    - next
    - add_build_system

before_install:
  - pip install --upgrade pip
  - pip install pipenv
  - pipenv run python --version

# command to install dependencies
install: make install

#before_script:
  #- cp -a ./tests "$TRAVIS_BUILD_DIR"

notifications:
  webhooks:
    urls:
      - https://webhooks.gitter.im/e/0d4fe7da7dd072da59ea
    on_success: always  # options: [always|never|change] default: always
    on_failure: always  # options: [always|never|change] default: always
    on_start: never

# command to run tests
script:
  - make test
  - make install
  - pipenv run imapfw --help
  - pipenv run imapfw unitTests

after_success:
  - pipenv run coveralls
  - pipenv run codecov
# vim: expandtab ts=2 :
